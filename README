#SUTRASET is extended USGS SUTRA code considering seepage(S), evaporation(E) and tidal forces(T)

The pecific processes that the code considers on top of SUTRA are:

  1. evaporation takes water away with salt remain in the soils
  2. the reduction of evaporation due to water desaturation on the surface, by considering surface resistance.
  3. the reduction of evaporation due to increase to solute concentration on the surface, according to Kelvin Equation.
  4. the reduction of evaporation due to salt precipitation on the surface as crust, by considering salt resistance
  5. the removal of residual liquid water due to evaporation (by extending SWCC and Kr function below residual liquid water saturation level)
  6. a dynamic soil surface boundary conditions with three phases (1. Hydrostatic pressure boundary for water submerged surfaces, 2. Seepage for saturated soil surface above water level, 3 evaporation for unsaturated soil surface above water level). These three phases are determined using non-linear iterations to avoid phase lag (water spraying truck effect!).

Vapor flow in porous media is not considered in SUTRASET

  
Examples:
the result of a 1-D calibration case considering evaporation from a soil column with a saline water table at the bottom:

https://www.youtube.com/watch?v=Ny3e0dCjsOM 

the case is available at examples/Fujimaki/MassarLoamy and /examples/Fujimaki/Toyoura


The mathematical explanation is given in the paper:
Shen, C., Zhang, C., Xin, P., Kong, J., & Li, L. (2018). Salt Dynamics in Coastal Marshes: Formation of Hypersaline Zones. Water Resources Research, 1â€“18. https://doi.org/10.1029/2017WR022021


The result of a 2-D case considering tide, evaporation in coastal wetland
https://www.youtube.com/watch?v=y01Bo0dyTFE
the case is available at examples/evaporation_salt_marsh/sandyloam_evt4


#How to use the code:

##1. under UNIX environment where gfortran, git are available.

issue the following command

```bash
git clone https://github.com/chenmingzhang/sutraset
cd sutraset/src
make 
make all
```

you will have sutraset_gf compiled in the src folder

##2. under WINDOWS environment, just use precompiled **sutraset_gf_windows.exe** in the directory */bin*

##3. under WINDOWS environment, with minGW avaialble

 after downloading the package in zip file, creat a file in folder */src* called *gversion.f90* with following content

```fortran
SUBROUTINE GVERSION (K3)
  WRITE (K3,*) "this is not git controlled "
      RETURN
END SUBROUTINE
```

Then issue the command below in the folder src (with mingw) 

```bash
gfortran *.f90 *.f -O3 -o sutraset_gf_mingw.exe
```


